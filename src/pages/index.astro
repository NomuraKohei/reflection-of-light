---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Welcome to Astro.">
	<main></main>
</Layout>

<script>
	import p5 from 'p5';

	const sketch = (p: p5) => {
		p.setup = () => {
			p.createCanvas(p.windowWidth, p.windowHeight);
			p.noStroke();
			p.noLoop();
		};

		const drawCircle = (x: number, radius: number, level: number) => {
			const tt = (126 * level) / 4.0;
			p.fill(tt);
			p.ellipse(x, p.windowHeight / 2, radius * 2, radius * 2);
			if (level > 1) {
				level = level - 1;
				drawCircle(x - radius / 2, radius / 2, level);
				drawCircle(x + radius / 2, radius / 2, level);
			}
		};

		p.draw = () => {
			drawCircle(p.windowWidth / 2, 280, 6);
		};
	};
	new p5(sketch);
</script>
